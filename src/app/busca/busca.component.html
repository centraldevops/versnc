<div class="fit">
  <div class="busca">
    <h4>
      Consulte seu Estado ou Município
    </h4>
  </div>

  <form *ngIf="seletorTipoBusca == false" class="alinhamento card-busca">
    <mat-form-field class="layoutFill textCenter">
      <mat-placeholder>Consulte seu Estado ou Município
        <mat-icon>search</mat-icon>
      </mat-placeholder>

      <input #searchBox matInput type="search" id="search-box" [(ngModel)]="termoSimples" [ngModelOptions]="{standalone: true}"
        (keypress)="onRealizarBuscaComEnter($event)" />

    </mat-form-field>

    <button mat-raised-button (click)="onRealizarBuscaComEnter($event)">BUSCAR</button>

  </form>

  <form *ngIf="seletorTipoBusca == true" class="alinhamento card-busca" (keypress)="onRealizarBuscaComEnter($event)">
    <mat-form-field class="textCenter">
      <mat-placeholder> Estado
        <mat-icon>search</mat-icon>
      </mat-placeholder>
      <input #searchBox matInput type="search" id="search-box" [(ngModel)]="termoUF" [ngModelOptions]="{standalone: true}" autofocus/>
    </mat-form-field>

    <mat-form-field class="textCenter">
      <mat-placeholder> Município
        <mat-icon>search</mat-icon>
      </mat-placeholder>
      <input #searchBox matInput type="text" date="true" id="search-box" [(ngModel)]="queries['nome_municipio']" [ngModelOptions]="{standalone: true}"
        autofocus/>
    </mat-form-field>


    <mat-form-field class="textCenter">
      <input #searchBox matInput [matDatepicker]="picker" [(ngModel)]="data_adesao_min" [ngModelOptions]="{standalone: true}" placeholder="Adesão a partir da data">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="textCenter">
      <input #searchBox matInput [matDatepicker]="picker2" [(ngModel)]="data_adesao_max" [ngModelOptions]="{standalone: true}"
        placeholder="Adesão até a data">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button (click)="onRealizarBuscaComEnter($event)">BUSCAR</button>

    <div fxLayout="row" fxLayoutAlign="space-around center">
      <div fxLayout="column" fxLayoutAlign="space-between start">
        <mat-checkbox class="primary" [(ngModel)]="filtrarEstados" color="primary" [ngModelOptions]="{standalone: true}">
          <span class="checkbox">Estados</span>
        </mat-checkbox>
        <mat-checkbox class="primary" [(ngModel)]="filtrarMunicipios" color="primary" [ngModelOptions]="{standalone: true}">
          <span class="checkbox">Municípios</span>
        </mat-checkbox>

      </div>

      <div fxLayout="row" fxLayoutAlign="space-between start">
        <!-- COMPONENTES -->

        <div fxLayout="column" fxLayoutAlign="space-between start">
          <mat-checkbox class="primary" [(ngModel)]="componentes[0]" color="primary" [ngModelOptions]="{standalone: true}">
            <span class="checkbox">Lei Sistema</span>
          </mat-checkbox>
          <mat-checkbox class="primary" [(ngModel)]="componentes[1]" color="primary" [ngModelOptions]="{standalone: true}">
            <span class="checkbox">Plano Cultura</span>
          </mat-checkbox>
          <mat-checkbox class="primary" [(ngModel)]="componentes[2]" color="primary" [ngModelOptions]="{standalone: true}">
            <span class="checkbox">Órgão Gestor</span>
          </mat-checkbox>
        </div>

        <div fxLayout="column" fxLayoutAlign="space-between start">
          <mat-checkbox class="primary" [(ngModel)]="componentes[3]" color="primary" [ngModelOptions]="{standalone: true}">
            <span class="checkbox">Fundo Cultura</span>
          </mat-checkbox>
          <mat-checkbox class="primary" [(ngModel)]="componentes[4]" color="primary" [ngModelOptions]="{standalone: true}">
            <span class="checkbox">Conselho Cultura</span>
          </mat-checkbox>
        </div>

      </div>

    </div>
  </form>

  <button *ngIf="!seletorTipoBusca" id="trocaBusca" mat-button class="alinhamento" (click)="seletorTipoBusca = true">
    <span class="material-icons">keyboard_arrow_down</span>{{ seletorTipoBusca ? false : 'Abrir Filtros'}}
  </button>
  <button *ngIf="seletorTipoBusca" id="trocaBusca" mat-button class="alinhamento" (click)="seletorTipoBusca = false">
    <span class="material-icons">keyboard_arrow_up</span> Fechar Filtros
  </button>

</div>